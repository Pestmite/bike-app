export function savePath(route) {
  trailData = JSON.parse(localStorage.getItem('trailData')) || [];
  const trailName = 'Camillien Houde Loop';
  const trailId = trailName.replaceAll(" ", "-").toLocaleLowerCase();
  const trailDescription = "Steep climb in the heart of Mount Royal";
  const trailDifficulty = 'Difficult';
  
  let newTrail = {
    "name": trailName,
    "id": trailId,
    "description": trailDescription,
    "length_km": route.summary.totalDistance,
    "estimated_time": route.summary.totalTime,
    "difficulty": trailDifficulty,
    "images": trailId,
    "path":  route.coordinates
  };

  const existingIndex = trailData.findIndex(trail => trail.id === trailId);
  if (existingIndex !== -1) {
    trailData[existingIndex] = newTrail;
  } else {
    trailData.push(newTrail);
  }

  console.log(trailData);
  localStorage.setItem('trailData', JSON.stringify(trailData));
}

export let trailData = [
  {
      "name": "Camillien Houde Path",
      "id": "camillien-houde-path",
      "description": "Steep climb in the heart of Mount Royal",
      "length_km": 3744.2999999999997,
      "estimated_time": 748.8000000000001,
      "difficulty": "Difficult",
      "images": "camillien-houde-path",
      "path": [
          [
              45.51629,
              -73.5884
          ],
          [
              45.51625,
              -73.58831
          ],
          [
              45.51619,
              -73.5885
          ],
          [
              45.51582,
              -73.58976
          ],
          [
              45.5158,
              -73.58993
          ],
          [
              45.51581,
              -73.59008
          ],
          [
              45.51581,
              -73.59012
          ],
          [
              45.51579,
              -73.59027
          ],
          [
              45.51574,
              -73.59042
          ],
          [
              45.51541,
              -73.59076
          ],
          [
              45.51522,
              -73.59084
          ],
          [
              45.51509,
              -73.59081
          ],
          [
              45.5148,
              -73.59074
          ],
          [
              45.51459,
              -73.59055
          ],
          [
              45.51395,
              -73.58957
          ],
          [
              45.51374,
              -73.58927
          ],
          [
              45.51362,
              -73.58915
          ],
          [
              45.51351,
              -73.5891
          ],
          [
              45.51344,
              -73.58909
          ],
          [
              45.51328,
              -73.58912
          ],
          [
              45.51314,
              -73.58922
          ],
          [
              45.51306,
              -73.58934
          ],
          [
              45.51301,
              -73.58946
          ],
          [
              45.51298,
              -73.5896
          ],
          [
              45.51297,
              -73.58973
          ],
          [
              45.51301,
              -73.59004
          ],
          [
              45.51313,
              -73.59063
          ],
          [
              45.5133,
              -73.59165
          ],
          [
              45.51345,
              -73.59257
          ],
          [
              45.51348,
              -73.59291
          ],
          [
              45.51348,
              -73.59337
          ],
          [
              45.51343,
              -73.59389
          ],
          [
              45.51335,
              -73.59429
          ],
          [
              45.51324,
              -73.59463
          ],
          [
              45.51311,
              -73.59497
          ],
          [
              45.51245,
              -73.59641
          ],
          [
              45.51235,
              -73.59658
          ],
          [
              45.51226,
              -73.59667
          ],
          [
              45.51219,
              -73.59671
          ],
          [
              45.51204,
              -73.59675
          ],
          [
              45.51184,
              -73.59671
          ],
          [
              45.51174,
              -73.59665
          ],
          [
              45.51167,
              -73.59657
          ],
          [
              45.51157,
              -73.59644
          ],
          [
              45.51142,
              -73.59611
          ],
          [
              45.51126,
              -73.59564
          ],
          [
              45.51119,
              -73.59535
          ],
          [
              45.51112,
              -73.595
          ],
          [
              45.51105,
              -73.59435
          ],
          [
              45.51099,
              -73.59408
          ],
          [
              45.51091,
              -73.59389
          ],
          [
              45.5106,
              -73.59329
          ],
          [
              45.50978,
              -73.5917
          ],
          [
              45.5096,
              -73.59137
          ],
          [
              45.50951,
              -73.59127
          ],
          [
              45.50939,
              -73.5912
          ],
          [
              45.50922,
              -73.59114
          ],
          [
              45.50897,
              -73.59111
          ],
          [
              45.50861,
              -73.5911
          ],
          [
              45.50843,
              -73.59114
          ],
          [
              45.50803,
              -73.59131
          ],
          [
              45.50783,
              -73.59145
          ],
          [
              45.50617,
              -73.59296
          ],
          [
              45.50573,
              -73.59325
          ],
          [
              45.50543,
              -73.59339
          ],
          [
              45.5051,
              -73.59349
          ],
          [
              45.50425,
              -73.59359
          ],
          [
              45.5039,
              -73.59372
          ],
          [
              45.50363,
              -73.59385
          ],
          [
              45.50329,
              -73.59415
          ],
          [
              45.50324,
              -73.5942
          ],
          [
              45.50321,
              -73.59424
          ],
          [
              45.50296,
              -73.59454
          ],
          [
              45.50281,
              -73.59479
          ],
          [
              45.50269,
              -73.59503
          ],
          [
              45.50256,
              -73.59535
          ],
          [
              45.50232,
              -73.59615
          ],
          [
              45.50231,
              -73.59617
          ],
          [
              45.50226,
              -73.59632
          ],
          [
              45.50203,
              -73.59695
          ],
          [
              45.50187,
              -73.5973
          ],
          [
              45.50164,
              -73.59775
          ],
          [
              45.50145,
              -73.59808
          ],
          [
              45.50106,
              -73.59865
          ],
          [
              45.50048,
              -73.59937
          ],
          [
              45.49956,
              -73.60044
          ],
          [
              45.49853,
              -73.60159
          ],
          [
              45.49848,
              -73.60165
          ],
          [
              45.49781,
              -73.60238
          ],
          [
              45.49563,
              -73.6046
          ],
          [
              45.49516,
              -73.60507
          ],
          [
              45.4951,
              -73.60513
          ],
          [
              45.49511,
              -73.60516
          ]
      ]
  }
];